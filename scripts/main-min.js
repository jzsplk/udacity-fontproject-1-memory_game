function shuffle(e){for(var n=e.length,o,t;0!=n;)t=Math.floor(Math.random()*n),n-=1,o=e[n],e[n]=e[t],e[t]=o;return e}function initGame(){var e=shuffle(symbols);$deck.empty(),match=0,moves=0;for(var n=0;n<e.length;n++)$deck.append($('<li class="card"><i>'+e[n]+"</i></li>"))}function endGame(e){swal({position:"center",type:"success",title:"大头棒棒哒！",text:"用了"+e+"步",confirmButtonColor:"#9bcb3c",confirmButtonText:"再来一次"}).then(function(e){e&&initGame()})}!function($){$(document).ready(function(){console.log("working"),initGame()})}(jQuery);var symbols=["1","1","2","2","3","3","4","4","5","5","6","6","7","7","8","8"],$deck=$(".deck"),opened=[],delay=800,match=0,moves=0,cardsToMatch=symbols.length/2;$deck.on("click",'.card:not(".match, .open")',function(){var e=$(this),n=e.context.innerHTML;e.addClass("open show"),opened.push(n),console.log(opened),opened.length>1&&(n==opened[0]?($deck.find(".open").addClass("match"),setTimeout(function(){$deck.find(".match").removeClass("open show")},delay),match++):($deck.find(".open").addClass("notmatch"),setTimeout(function(){$deck.find(".open").removeClass("open show notmatch")},delay/1.5)),opened=[],moves++),match===cardsToMatch&&setTimeout(function(){endGame(moves)},500)});
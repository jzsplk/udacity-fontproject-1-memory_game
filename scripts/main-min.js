function shuffle(t){for(var e=t.length,a,n;0!=e;)n=Math.floor(Math.random()*e),e-=1,a=t[e],t[e]=t[n],t[n]=a;return t}function initGame(){var t=shuffle(symbols);$deck.empty(),match=0,moves=0,$movesNumber.html(moves),$ratingStars.removeClass("fa-star-o").addClass("fa-star");for(var e=0;e<t.length;e++)$deck.append($('<li class="card"><i>'+t[e]+"</i></li>"))}function endGame(t,e){swal({position:"center",type:"success",title:"大头棒棒哒！",text:"用了 "+t+" 步,得到 "+e+"星，  Winner Winner Chicken Dinner!",confirmButtonColor:"#9bcb3c",confirmButtonText:"再来一局"}).then(function(t){t&&initGame()})}function ratingStars(t){var e=3;return t>rant3stars&&t<rant2stars?($ratingStars.eq(2).removeClass("fa-star").addClass("fa-star-o"),e=2):t>rant2stars&&t<rant1stars?($ratingStars.eq(1).removeClass("fa-star").addClass("fa-star-o"),e=1):t>rant1stars&&($ratingStars.eq(0).removeClass("fa-star").addClass("fa-star-o"),e=0),console.log(t),console.log(e),{score:e}}!function($){$(document).ready(function(){console.log("game working"),initGame()})}(jQuery);var symbols=["1","1","2","2","3","3","4","4","5","5","6","6","7","7","8","8"],$deck=$(".deck"),$scorePanel=$(".score-panel"),$movesNumber=$scorePanel.find(".moves"),$ratingStars=$scorePanel.find("i"),$restart=$scorePanel.find(".restart"),opened=[],delay=800,match=0,moves=0,cardsToMatch=symbols.length/2,rant3stars=cardsToMatch+7,rant2stars=cardsToMatch+9,rant1stars=cardsToMatch+11;$restart.on("click",function(){swal({title:"亲，确定要退出么？",text:"你的记忆会丢失哦！",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"不，哥从头再来"}).then(function(t){t.value&&(swal("重新开始了","GG GL","success"),initGame())})}),$deck.on("click",'.card:not(".match, .open")',function(){var t=$(this),e=t.context.innerHTML;if(t.addClass("open show"),opened.push(e),console.log(opened),opened.length>1&&(e==opened[0]?($deck.find(".open").addClass("match rotateInDownRight"),setTimeout(function(){$deck.find(".match").removeClass("open show rotateInDownRight")},delay),match++):($deck.find(".open").addClass("notmatch wobble"),setTimeout(function(){$deck.find(".open").removeClass("open show notmatch wobble")},delay)),opened=[],moves++,ratingStars(moves),$movesNumber.html(moves)),match===cardsToMatch){ratingStars(moves);var a=ratingStars(moves).score;setTimeout(function(){endGame(moves,a)},500)}});
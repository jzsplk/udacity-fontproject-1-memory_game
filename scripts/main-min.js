function shuffle(a){for(var e=a.length,s,t;0!=e;)t=Math.floor(Math.random()*e),e-=1,s=a[e],a[e]=a[t],a[t]=s;return a}function initGame(){var a=shuffle(symbols);$deck.empty(),match=0,moves=0,$movesNumber.html(moves),$ratingStars.removeClass("fa-star-o").addClass("fa-star");for(var e=0;e<a.length;e++)$deck.append($('<li class="card"><i>'+a[e]+"</i></li>"))}function endGame(a,e){swal({position:"center",type:"success",title:"大头棒棒哒！",text:"用了 "+a+" 步,得到 "+e+"星，  Winner Winner Chicken Dinner!",confirmButtonColor:"#9bcb3c",confirmButtonText:"再来一局"}).then(function(a){a&&initGame()})}function ratingStars(a){var e=3;return a>rant3stars&&a<rant2stars?($ratingStars.eq(2).removeClass("fa-star").addClass("fa-star-o"),e=2):a>rant2stars&&a<rant1stars?($ratingStars.eq(1).removeClass("fa-star").addClass("fa-star-o"),e=1):a>rant1stars&&($ratingStars.eq(0).removeClass("fa-star").addClass("fa-star-o"),e=0),console.log(a),console.log(e),{score:e}}!function($){$(document).ready(function(){console.log("game working"),initGame()})}(jQuery);var symbols=["1","1","2","2","3","3","4","4","5","5","6","6","7","7","8","8"],$deck=$(".deck"),$scorePanel=$(".score-panel"),$movesNumber=$scorePanel.find(".moves"),$ratingStars=$scorePanel.find("i"),opened=[],delay=800,match=0,moves=0,cardsToMatch=symbols.length/2,rant3stars=cardsToMatch+2,rant2stars=cardsToMatch+6,rant1stars=cardsToMatch+10;$deck.on("click",'.card:not(".match, .open")',function(){var a=$(this),e=a.context.innerHTML;if(a.addClass("open show"),opened.push(e),console.log(opened),opened.length>1&&(e==opened[0]?($deck.find(".open").addClass("match"),setTimeout(function(){$deck.find(".match").removeClass("open show")},delay),match++):($deck.find(".open").addClass("notmatch"),setTimeout(function(){$deck.find(".open").removeClass("open show notmatch")},delay)),opened=[],moves++,ratingStars(moves),$movesNumber.html(moves)),match===cardsToMatch){ratingStars(moves);var s=ratingStars(moves).score;setTimeout(function(){endGame(moves,s)},500)}});